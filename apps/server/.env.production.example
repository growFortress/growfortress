# =============================================================================
# PRODUKCJA - Grow Fortress Server (Railway)
# =============================================================================
# UWAGA: Te zmienne konfiguruj bezposrednio w panelu Railway!
# NIGDY nie commituj pliku z prawdziwymi sekretami do repozytorium!
#
# Generowanie bezpiecznych sekretow (Node.js):
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
# =============================================================================

# -----------------------------------------------------------------------------
# SERWER
# -----------------------------------------------------------------------------
NODE_ENV="production"
PORT=3000

# -----------------------------------------------------------------------------
# CORS - dozwolone domeny (oddzielone przecinkami)
# -----------------------------------------------------------------------------
CORS_ORIGINS="https://growfortress.com,https://www.growfortress.com"

# -----------------------------------------------------------------------------
# PREFIKS API (gdy frontend korzysta z /api)
# -----------------------------------------------------------------------------
API_PREFIX="/api"

# -----------------------------------------------------------------------------
# BAZA DANYCH (PostgreSQL) - Railway automatycznie ustawi
# -----------------------------------------------------------------------------
# Railway dostarcza ta zmienna automatycznie po dodaniu PostgreSQL
DATABASE_URL="postgresql://..."

# -----------------------------------------------------------------------------
# REDIS - Railway automatycznie ustawi
# -----------------------------------------------------------------------------
# Railway dostarcza ta zmienna automatycznie po dodaniu Redis
REDIS_URL="redis://..."

# -----------------------------------------------------------------------------
# AUTENTYKACJA (JWT)
# -----------------------------------------------------------------------------
# WAZNE: Wygeneruj unikalne, losowe sekrety!
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
JWT_SECRET="WYGENERUJ_LOSOWY_SECRET_MIN_64_ZNAKOW_TUTAJ"
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="7d"

# -----------------------------------------------------------------------------
# RUN TOKEN (HMAC) - weryfikacja sesji gry
# -----------------------------------------------------------------------------
# node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
RUN_TOKEN_SECRET="WYGENERUJ_INNY_LOSOWY_SECRET_MIN_64_ZNAKOW"
RUN_TOKEN_EXPIRY_SECONDS=600

# -----------------------------------------------------------------------------
# RATE LIMITING
# -----------------------------------------------------------------------------
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# STRIPE - platnosci (LIVE KEYS)
# -----------------------------------------------------------------------------
# Dashboard: https://dashboard.stripe.com/apikeys
# Webhook:   https://dashboard.stripe.com/webhooks
#   -> Endpoint: https://api.growfortress.com/v1/shop/webhook
#   -> Events:   checkout.session.completed, checkout.session.expired
#
STRIPE_SECRET_KEY="sk_live_TWOJ_KLUCZ_STRIPE_TUTAJ"
STRIPE_WEBHOOK_SECRET="whsec_TWOJ_WEBHOOK_SECRET_TUTAJ"
STRIPE_SUCCESS_URL="https://growfortress.com/shop?success=true"
STRIPE_CANCEL_URL="https://growfortress.com/shop?canceled=true"

# -----------------------------------------------------------------------------
# EMAIL (SMTP) - dla resetowania hasel
# -----------------------------------------------------------------------------
# Zalecane uslugi: SendGrid, Mailgun, Amazon SES, Postmark
#
SMTP_HOST="smtp.sendgrid.net"
SMTP_PORT=587
SMTP_SECURE=false
SMTP_USER="apikey"
SMTP_PASS="SG.xxx..."
