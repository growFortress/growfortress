# =============================================================================
# PRODUKCJA - Arcade Server
# =============================================================================
# UWAGA: Skopiuj ten plik jako .env.production i wypelnij prawdziwe wartosci.
# NIGDY nie commituj pliku z prawdziwymi sekretami do repozytorium!
#
# Generowanie bezpiecznych sekretow (Node.js):
#   node -e "console.log(require('crypto').randomBytes(32).toString('hex'))"
#
# Lub online: https://generate-secret.vercel.app/64
# =============================================================================

# -----------------------------------------------------------------------------
# SERWER
# -----------------------------------------------------------------------------
NODE_ENV="production"
PORT=3000

# -----------------------------------------------------------------------------
# CORS - dozwolone domeny (oddzielone przecinkami)
# -----------------------------------------------------------------------------
CORS_ORIGINS="https://twoja-domena.pl,https://www.twoja-domena.pl"

# -----------------------------------------------------------------------------
# BAZA DANYCH (PostgreSQL)
# -----------------------------------------------------------------------------
# Format: postgresql://USER:PASSWORD@HOST:PORT/DATABASE?schema=public&sslmode=require
#
# Zalecenia:
#   - Uzyj silnego hasla (min. 32 znaki)
#   - Wlacz SSL (sslmode=require)
#   - Baza powinna byc w prywatnej sieci (nie eksponowana publicznie)
#
DATABASE_URL="postgresql://arcade_prod:SILNE_HASLO_MIN_32_ZNAKI@db.twoj-hosting.pl:5432/arcade_prod?schema=public&sslmode=require"

# -----------------------------------------------------------------------------
# REDIS
# -----------------------------------------------------------------------------
# Format: redis://:PASSWORD@HOST:PORT lub rediss:// dla SSL
#
REDIS_URL="redis://:HASLO_REDIS@redis.twoj-hosting.pl:6379"

# -----------------------------------------------------------------------------
# AUTENTYKACJA (JWT)
# -----------------------------------------------------------------------------
# WAZNE: Wygeneruj unikalne, losowe sekrety!
#
# JWT_SECRET - podpisywanie tokenow dostepu i odswiezania
# Wygeneruj: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
JWT_SECRET="WYGENERUJ_LOSOWY_SECRET_MIN_64_ZNAKOW_TUTAJ"
JWT_ACCESS_EXPIRY="15m"
JWT_REFRESH_EXPIRY="7d"

# -----------------------------------------------------------------------------
# RUN TOKEN (HMAC) - weryfikacja sesji gry
# -----------------------------------------------------------------------------
# Wygeneruj: node -e "console.log(require('crypto').randomBytes(64).toString('hex'))"
#
RUN_TOKEN_SECRET="WYGENERUJ_INNY_LOSOWY_SECRET_MIN_64_ZNAKOW"
RUN_TOKEN_EXPIRY_SECONDS=600

# -----------------------------------------------------------------------------
# RATE LIMITING - ochrona przed atakami
# -----------------------------------------------------------------------------
# MAX: maksymalna liczba requestow na okno czasowe
# WINDOW_MS: dlugosc okna w milisekundach (60000 = 1 minuta)
#
RATE_LIMIT_MAX=100
RATE_LIMIT_WINDOW_MS=60000

# -----------------------------------------------------------------------------
# STRIPE - platnosci
# -----------------------------------------------------------------------------
# Klucze znajdziesz w: https://dashboard.stripe.com/apikeys
#
# STRIPE_SECRET_KEY: klucz tajny (sk_live_...)
# STRIPE_WEBHOOK_SECRET: sekret webhooka (whsec_...)
#   -> Utworz webhook w: https://dashboard.stripe.com/webhooks
#   -> Endpoint: https://api.twoja-domena.pl/v1/webhooks/stripe
#   -> Events: checkout.session.completed, payment_intent.succeeded
#
STRIPE_SECRET_KEY="sk_live_TWOJ_KLUCZ_STRIPE"
STRIPE_WEBHOOK_SECRET="whsec_TWOJ_WEBHOOK_SECRET"
STRIPE_SUCCESS_URL="https://twoja-domena.pl/shop?success=true"
STRIPE_CANCEL_URL="https://twoja-domena.pl/shop?canceled=true"
