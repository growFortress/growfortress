/**
 * Shop View Styles - WoT-Inspired Layout
 *
 * Features:
 * - Fullscreen layout with vertical sidebar navigation (WoT-style)
 * - Left sidebar with icon categories
 * - Main content area with product grid
 * - Game-consistent theme colors
 */

/* ============================================
   FULLSCREEN CONTAINER
   ============================================ */
.shopContainer {
  position: fixed;
  inset: 0;
  display: flex;
  flex-direction: column;
  background: var(--color-bg);
  z-index: var(--z-modal);
  overflow: hidden;
}

/* ============================================
   SHOP HEADER (Top bar)
   ============================================ */
.shopHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-sm) var(--spacing-xl);
  background: linear-gradient(180deg, var(--color-bg-panel) 0%, var(--color-bg) 100%);
  border-bottom: 2px solid var(--color-neutral-dark);
  flex-shrink: 0;
  height: 60px;
}

.headerLeft {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
}

.backButton {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-lg);
  background: var(--color-bg-elevated);
  border: 2px solid var(--color-neutral);
  border-radius: var(--radius-md);
  color: var(--color-text-60);
  font-size: 14px;
  font-weight: 600;
  cursor: pointer;
  transition: all 0.2s ease;
}

.backButton:hover {
  background: var(--color-primary-10);
  border-color: var(--color-primary-50);
  color: var(--color-primary);
}

.shopTitle {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0;
  text-transform: uppercase;
  letter-spacing: 2px;
}

/* Balance in header */
.headerBalance {
  display: flex;
  gap: var(--spacing-lg);
}

.balance {
  display: flex;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-sm) var(--spacing-md);
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-neutral-dark);
  border-radius: var(--radius-sm);
}

.balanceIcon {
  font-size: 1.25rem;
  line-height: 1;
}

/* Resource emojis */
.resourceEmoji {
  font-size: 1rem;
  line-height: 1;
}

.productEmoji {
  font-size: 2.5rem;
  line-height: 1;
}

.rewardEmoji {
  font-size: 1.5rem;
  line-height: 1;
  flex-shrink: 0;
}

.balanceValue {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--color-text);
}

.balanceLabel {
  font-size: 11px;
  color: var(--color-text-60);
  text-transform: uppercase;
}

/* ============================================
   MAIN LAYOUT (Sidebar + Content)
   ============================================ */
.shopMain {
  flex: 1;
  display: flex;
  overflow: hidden;
}

/* ============================================
   VERTICAL SIDEBAR (WoT-Style)
   ============================================ */
.sidebar {
  width: 80px;
  display: flex;
  flex-direction: column;
  background: var(--color-bg-panel);
  border-right: 2px solid var(--color-neutral-dark);
  padding: var(--spacing-md) 0;
  gap: var(--spacing-xs);
  flex-shrink: 0;
}

.sidebarTab {
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  gap: 4px;
  padding: var(--spacing-md) var(--spacing-sm);
  background: transparent;
  border: none;
  border-left: 3px solid transparent;
  cursor: pointer;
  transition: all 0.15s ease;
  color: var(--color-text-40);
  position: relative;
}

.sidebarTab:hover {
  background: var(--color-bg-elevated);
  color: var(--color-text-60);
}

.sidebarTab.active {
  background: var(--color-primary-10);
  border-left-color: var(--color-primary);
  color: var(--color-primary);
}

.sidebarTab.active::after {
  content: '';
  position: absolute;
  right: 0;
  top: 50%;
  transform: translateY(-50%);
  width: 0;
  height: 0;
  border-top: 8px solid transparent;
  border-bottom: 8px solid transparent;
  border-right: 8px solid var(--color-bg);
}

.sidebarIcon {
  transition: transform 0.15s ease;
}

.sidebarTab:hover .sidebarIcon {
  transform: scale(1.1);
}

.sidebarLabel {
  font-size: 9px;
  font-weight: 600;
  text-transform: uppercase;
  letter-spacing: 0.3px;
  text-align: center;
  line-height: 1.2;
}

/* ============================================
   SHOP CONTENT AREA
   ============================================ */
.shopContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  overflow: hidden;
  background: var(--color-bg);
}

/* Category Header */
.categoryHeader {
  display: flex;
  align-items: center;
  justify-content: space-between;
  padding: var(--spacing-lg) var(--spacing-xl);
  border-bottom: 1px solid var(--color-neutral-dark);
  flex-shrink: 0;
}

.categoryTitle {
  font-family: var(--font-display);
  font-size: 1.25rem;
  font-weight: 600;
  color: var(--color-text);
  margin: 0;
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
}

.categoryCount {
  font-size: 13px;
  font-weight: 400;
  color: var(--color-text-40);
}

/* ============================================
   ERROR DISPLAY
   ============================================ */
.error {
  padding: var(--spacing-md) var(--spacing-lg);
  margin: var(--spacing-lg) var(--spacing-xl);
  background: var(--color-accent-10);
  color: var(--color-accent);
  border: 1px solid var(--color-accent-30);
  border-radius: var(--radius-md);
  font-size: 14px;
}

/* ============================================
   PRODUCTS GRID
   ============================================ */
.productsGrid {
  display: grid;
  grid-template-columns: repeat(auto-fill, minmax(280px, 1fr));
  gap: var(--spacing-lg);
  flex: 1;
  overflow-y: auto;
  padding: var(--spacing-xl);
  align-content: start;
}

/* ============================================
   PRODUCT CARD BASE
   ============================================ */
.productCard {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-sm);
  padding: var(--spacing-lg);
  background: var(--color-bg-elevated);
  border: 2px solid var(--color-neutral-dark);
  border-radius: var(--radius-md);
  transition: all 0.15s ease;
  text-align: center;
}

.productCard:hover {
  border-color: var(--color-neutral);
  background: var(--color-bg-panel);
}

/* ============================================
   TIER SYSTEM
   ============================================ */

/* Standard Tier (Dust packages) */
.tierStandard {
  background: var(--color-bg-elevated);
  border-color: var(--color-neutral-dark);
}

.tierStandard:hover {
  border-color: var(--color-neutral);
}

/* Premium Tier (Heroes) */
.tierPremium {
  background: linear-gradient(180deg, var(--color-bg-elevated) 0%, var(--color-primary-10) 100%);
  border-color: var(--color-primary-30);
}

.tierPremium:hover {
  border-color: var(--color-primary);
  box-shadow: 0 0 20px var(--color-primary-20);
}

/* Epic Tier (Bundles, Best Value) */
.tierEpic {
  background: linear-gradient(180deg, var(--color-bg-elevated) 0%, var(--color-skill-10) 100%);
  border-color: var(--color-skill-50);
}

.tierEpic:hover {
  border-color: var(--color-skill);
  box-shadow: 0 0 20px var(--color-skill-20);
}

/* Legendary Tier (Featured) - Clean, subtle design */
.tierLegendary {
  background: var(--color-bg-elevated);
  border-color: var(--color-neutral);
}

.tierLegendary:hover {
  border-color: var(--color-primary-50);
}

/* Featured cards - full width, clean horizontal layout */
.featuredCard {
  grid-column: 1 / -1;
  flex-direction: row;
  padding: var(--spacing-lg) var(--spacing-xl);
  gap: var(--spacing-xl);
  text-align: left;
  max-width: 800px;
  justify-self: center;
  width: 100%;
  align-items: center;
}

/* ============================================
   PRODUCT ILLUSTRATION
   ============================================ */
.productIllustration {
  display: flex;
  align-items: center;
  justify-content: center;
  width: 80px;
  height: 80px;
  background: radial-gradient(ellipse at center, var(--color-primary-15) 0%, transparent 70%);
  border-radius: 50%;
  flex-shrink: 0;
}

.tierLegendary .productIllustration,
.featuredCard .productIllustration {
  width: 72px;
  height: 72px;
  background: var(--color-bg-panel);
  border-radius: var(--radius-md);
}

.tierEpic .productIllustration {
  background: radial-gradient(ellipse at center, var(--color-skill-20) 0%, transparent 70%);
}

.dustProduct .productIllustration {
  background: radial-gradient(ellipse at center, var(--color-dust-20) 0%, transparent 70%);
}

/* ============================================
   FEATURED CARD CONTENT
   ============================================ */
.featuredContent {
  flex: 1;
  display: flex;
  flex-direction: column;
  gap: var(--spacing-sm);
}

.featuredActions {
  display: flex;
  align-items: center;
  gap: var(--spacing-lg);
  margin-top: auto;
}

/* ============================================
   PRODUCT BADGE
   ============================================ */
.productBadge {
  position: absolute;
  top: var(--spacing-sm);
  right: var(--spacing-sm);
  padding: 4px var(--spacing-sm);
  background: var(--color-skill);
  color: var(--color-bg);
  font-size: 10px;
  font-weight: 700;
  text-transform: uppercase;
  letter-spacing: 0.5px;
  border-radius: var(--radius-sm);
}

.featuredCard .productBadge {
  top: var(--spacing-lg);
  right: var(--spacing-lg);
}

/* Badge Variants - Subtle, minimal */
.badgeBestValue {
  background: var(--color-skill);
}

.badgePremium {
  background: var(--color-primary);
}

.badgeSeason {
  background: #6366f1;
}

.badgeSavings {
  background: var(--color-positive);
}

/* ============================================
   PRODUCT TITLE
   ============================================ */
.productTitle {
  font-family: var(--font-display);
  font-size: 1.125rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0;
}

.tierLegendary .productTitle,
.featuredCard .productTitle {
  font-size: 1.25rem;
  color: var(--color-text);
}

/* ============================================
   CONTENT BAR (Horizontal items list)
   ============================================ */
.contentBar {
  display: flex;
  flex-wrap: wrap;
  gap: var(--spacing-sm);
  justify-content: center;
  padding: var(--spacing-sm) 0;
}

.featuredCard .contentBar {
  justify-content: flex-start;
}

.contentItem {
  display: flex;
  align-items: center;
  gap: 4px;
  padding: 4px var(--spacing-sm);
  background: var(--color-bg-panel);
  border-radius: var(--radius-sm);
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text-80);
}

.contentValue {
  font-weight: 700;
  color: var(--color-text);
}

/* ============================================
   PRODUCT PRICE
   ============================================ */
.productPrice {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text);
  margin: var(--spacing-sm) 0;
}

.tierLegendary .productPrice,
.featuredCard .productPrice {
  font-size: 1.5rem;
  color: var(--color-text);
  margin: 0;
}

/* ============================================
   SAVINGS TEXT
   ============================================ */
.savingsText {
  font-size: 12px;
  font-weight: 600;
  color: var(--color-positive);
}

/* ============================================
   BUY BUTTON
   ============================================ */
.buyButton {
  width: 100%;
  max-width: 200px;
  margin-top: auto;
}

.featuredCard .buyButton {
  width: auto;
  min-width: 160px;
}

/* ============================================
   HERO PRODUCT
   ============================================ */
.heroProduct {
  padding: var(--spacing-lg);
}

.heroProduct.owned {
  opacity: 0.5;
  pointer-events: none;
}

.heroAvatar {
  width: 88px;
  height: 88px;
  border-radius: 50%;
  background: var(--color-bg-panel);
  border: 3px solid var(--hero-class-color, var(--color-primary));
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 0 20px color-mix(in srgb, var(--hero-class-color, var(--color-primary)) 40%, transparent);
}

.heroClassBadges {
  display: flex;
  gap: var(--spacing-xs);
  flex-wrap: wrap;
  justify-content: center;
  margin: var(--spacing-sm) 0;
}

.classBadge {
  padding: 3px var(--spacing-sm);
  font-size: 10px;
  font-weight: 700;
  color: white;
  border-radius: var(--radius-sm);
  text-transform: uppercase;
}

.roleBadge {
  padding: 3px var(--spacing-sm);
  font-size: 10px;
  font-weight: 700;
  color: var(--color-text-60);
  background: var(--color-bg-panel);
  border-radius: var(--radius-sm);
  text-transform: uppercase;
  border: 1px solid var(--color-neutral-dark);
}

.heroDescription {
  font-size: 12px;
  color: var(--color-text-50);
  line-height: 1.4;
  margin: 0;
}

/* ============================================
   EMPTY MESSAGE
   ============================================ */
.emptyMessage {
  grid-column: 1 / -1;
  padding: var(--spacing-xl);
  text-align: center;
  color: var(--color-text-40);
  background: var(--color-bg-elevated);
  border-radius: var(--radius-md);
  border: 1px dashed var(--color-neutral-dark);
}

/* ============================================
   STATUS OVERLAY
   ============================================ */
.statusOverlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(10, 10, 18, 0.95);
  z-index: 1000;
  backdrop-filter: blur(8px);
}

.statusContent {
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-xl);
  padding: var(--spacing-xl) calc(var(--spacing-xl) * 2);
  background: var(--color-bg-panel);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-lg);
  text-align: center;
}

.statusContent p {
  font-size: 1.125rem;
  color: var(--color-text);
  margin: 0;
}

/* ============================================
   SPINNER
   ============================================ */
.spinner {
  width: 48px;
  height: 48px;
  border: 3px solid var(--color-neutral);
  border-top-color: var(--color-primary);
  border-radius: 50%;
  animation: spin 1s linear infinite;
}

@keyframes spin {
  to {
    transform: rotate(360deg);
  }
}

/* ============================================
   SUCCESS/ERROR ICONS
   ============================================ */
.successIcon {
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-primary-20);
  border: 2px solid var(--color-primary);
  color: var(--color-primary);
  border-radius: 50%;
}

.errorIcon {
  width: 56px;
  height: 56px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-accent-20);
  border: 2px solid var(--color-accent);
  color: var(--color-accent);
  border-radius: 50%;
}

/* ============================================
   PURCHASE REWARDS
   ============================================ */
.purchaseRewards {
  display: flex;
  flex-direction: column;
  gap: var(--spacing-md);
  padding: var(--spacing-lg);
  background: var(--color-bg-elevated);
  border: 1px solid var(--color-primary-30);
  border-radius: var(--radius-md);
  min-width: 260px;
}

.purchaseRewards h4 {
  font-size: 13px;
  font-weight: 600;
  color: var(--color-text-50);
  text-transform: uppercase;
  letter-spacing: 0.5px;
  margin: 0;
  text-align: center;
}

.rewardItem {
  display: flex;
  align-items: center;
  gap: var(--spacing-md);
  padding: var(--spacing-sm) var(--spacing-md);
  background: var(--color-primary-10);
  border-radius: var(--radius-sm);
  font-size: 14px;
  font-weight: 600;
  color: var(--color-text);
}

.rewardIcon {
  flex-shrink: 0;
}

/* ============================================
   INTERSTITIAL OFFER OVERLAY
   ============================================ */
.interstitialOverlay {
  position: fixed;
  inset: 0;
  display: flex;
  align-items: center;
  justify-content: center;
  background: rgba(10, 10, 18, 0.98);
  z-index: 1100;
  backdrop-filter: blur(16px);
}

.interstitialContent {
  position: relative;
  display: flex;
  flex-direction: column;
  align-items: center;
  gap: var(--spacing-lg);
  padding: var(--spacing-xl) calc(var(--spacing-xl) * 2);
  background: var(--color-bg-panel);
  border: 2px solid var(--color-primary);
  border-radius: var(--radius-lg);
  max-width: 420px;
  text-align: center;
}

.interstitialClose {
  position: absolute;
  top: var(--spacing-md);
  right: var(--spacing-md);
  width: 36px;
  height: 36px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-panel);
  border: 1px solid var(--color-neutral);
  border-radius: 50%;
  color: var(--color-text-50);
  cursor: pointer;
  transition: all 0.15s ease;
}

.interstitialClose:hover {
  background: var(--color-bg-elevated);
  color: var(--color-text);
}

.interstitialIllustration {
  width: 80px;
  height: 80px;
  display: flex;
  align-items: center;
  justify-content: center;
  background: var(--color-bg-elevated);
  border-radius: var(--radius-md);
}

.interstitialTitle {
  font-family: var(--font-display);
  font-size: 1.5rem;
  font-weight: 700;
  color: var(--color-text);
  margin: 0;
}

.interstitialSubtitle {
  font-size: 14px;
  color: var(--color-text-50);
  margin: 0;
}

.interstitialPrice {
  font-family: var(--font-display);
  font-size: 2rem;
  font-weight: 700;
  color: var(--color-text);
}

.interstitialBuyButton {
  width: 100%;
  max-width: 280px;
  font-size: 1.125rem;
  padding: var(--spacing-md) var(--spacing-xl);
}

.interstitialSkip {
  background: none;
  border: none;
  color: var(--color-text-40);
  font-size: 13px;
  cursor: pointer;
  padding: var(--spacing-sm);
  transition: color 0.15s ease;
}

.interstitialSkip:hover {
  color: var(--color-text-60);
}

/* ============================================
   LOADING STATE
   ============================================ */
.loading {
  flex: 1;
  display: flex;
  align-items: center;
  justify-content: center;
  font-size: 1.125rem;
  color: var(--color-text-50);
}

/* ============================================
   RESPONSIVE - Tablet
   ============================================ */
@media (max-width: 1024px) {
  .sidebar {
    width: 64px;
  }

  .sidebarLabel {
    font-size: 8px;
  }

  .productsGrid {
    grid-template-columns: repeat(auto-fill, minmax(260px, 1fr));
  }

  .featuredCard {
    flex-direction: column;
    text-align: center;
    max-width: 100%;
  }

  .featuredContent {
    align-items: center;
  }

  .featuredCard .contentBar {
    justify-content: center;
  }

  .featuredActions {
    flex-direction: column;
    width: 100%;
  }

  .featuredCard .buyButton {
    width: 100%;
    max-width: 280px;
  }
}

/* ============================================
   RESPONSIVE - Mobile
   ============================================ */
@media (max-width: 768px) {
  .shopHeader {
    padding: var(--spacing-sm) var(--spacing-md);
    height: auto;
    gap: var(--spacing-sm);
  }

  .headerLeft {
    gap: var(--spacing-md);
  }

  .shopTitle {
    font-size: 1.125rem;
    letter-spacing: 1px;
  }

  .headerBalance {
    gap: var(--spacing-sm);
  }

  .balance {
    padding: var(--spacing-xs) var(--spacing-sm);
  }

  .balanceValue {
    font-size: 1rem;
  }

  .balanceLabel {
    display: none;
  }

  /* Convert sidebar to bottom tab bar on mobile */
  .shopMain {
    flex-direction: column-reverse;
  }

  .sidebar {
    width: 100%;
    flex-direction: row;
    border-right: none;
    border-top: 2px solid var(--color-neutral-dark);
    padding: var(--spacing-xs) var(--spacing-sm);
    gap: 0;
    justify-content: space-around;
  }

  .sidebarTab {
    border-left: none;
    border-bottom: 2px solid transparent;
    padding: var(--spacing-sm);
    flex: 1;
  }

  .sidebarTab.active {
    border-left-color: transparent;
    border-bottom-color: var(--color-primary);
  }

  .sidebarTab.active::after {
    display: none;
  }

  .sidebarLabel {
    font-size: 8px;
  }

  .categoryHeader {
    padding: var(--spacing-md);
  }

  .categoryTitle {
    font-size: 1rem;
  }

  .productsGrid {
    grid-template-columns: 1fr;
    padding: var(--spacing-md);
    gap: var(--spacing-md);
  }

  .productCard {
    padding: var(--spacing-md);
  }

  .productIllustration {
    width: 64px;
    height: 64px;
  }

  .productTitle {
    font-size: 1rem;
  }

  .productPrice {
    font-size: 1.25rem;
  }

  .heroAvatar {
    width: 72px;
    height: 72px;
  }

  .interstitialContent {
    padding: var(--spacing-lg);
    margin: var(--spacing-md);
    max-width: calc(100% - var(--spacing-lg));
  }

  .interstitialTitle {
    font-size: 1.25rem;
  }

  .interstitialPrice {
    font-size: 1.5rem;
  }

  .interstitialIllustration {
    width: 64px;
    height: 64px;
  }
}

/* ============================================
   REDUCED MOTION
   ============================================ */
@media (prefers-reduced-motion: reduce) {
  .productCard,
  .sidebarTab,
  .backButton,
  .interstitialClose {
    transition: none;
  }

  .sidebarTab:hover .sidebarIcon {
    transform: none;
  }

  .spinner {
    animation: none;
  }
}
